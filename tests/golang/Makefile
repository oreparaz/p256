all: generate_vectors run

generate_vectors: generate_testvectors.go
	go run generate_testvectors.go > test_golang.footer
	echo // DO NOT MODIFY, autogenerated on $(shell date -u +"%Y-%m-%dT%H:%M:%SZ") > test_golang.cc
	cat test_golang.cc.header test_golang.footer >> test_golang.cc

run: 
	c++ -std=c++11 test_golang.cc -o test_golang ../../build/p256.c.o
	./test_golang
